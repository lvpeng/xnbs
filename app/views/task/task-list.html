<!-- /.row -->
<div class="row">
    <div>
        <div class="panel panel-default">
            <div class="panel-heading">
                <label class="col-sm-6" style="margin-bottom:0px; height: 100%;line-height: 33px;">任务列表</label>

                <div class="input-group custom-search-form">
                    <input type="text" class="form-control" placeholder="Search..." ng-model="searchText" ng-change="search()">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button"><i class="fa fa-search"></i></button>
                    </span>
                </div>
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="table-responsive">

                    <!--分页-->
                    <ul class="pagination pagination-sm" style="marin:0px;">
                        <li ng-class="{active:0}"><a href="#/task" ng-click="firstPage()">First</a>

                        </li>
                        <li ng-repeat="n in range(ItemsByPage.length)"> <a href="#/task" ng-click="setPage()" ng-bind="n+1">1</a>

                        </li>
                        <li><a href="#/task" ng-click="lastPage()">Last</a>

                        </li>
                    </ul>
                    <!--/ 分页-->

                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                        <tr>
                            <th>#</th>

                            <th>
                                <a href="" ng-click="sort('request_id')" >工单编号
                                <span class="{{Header[0]}}"></span>
                                </a>
                            </th>
                            <th>
                                <a href="" ng-click="sort('person_name')">
                                    <span class="{{Header[1]}}">被检测人姓名</span>
                                </a>
                            </th>
                            <th>
                                <a href="" ng-click="sort('cnt')">
                                    <span class="{{Header[2]}}">检测包(个)</span>
                                </a>
                            </th>
                            <th>
                                <a href="" ng-click="sort('all_workload')">
                                    <span class="{{Header[3]}}">所需工时(小时)</span>
                                </a>
                            </th>
                            <th>
                                <a href="">
                                    <span class="">状态</span>
                                </a>
                            </th>
                            <th>
                                <a href="" ng-class="sort('create_time')">
                                    <span class="{{Header[4]}}">工单创建日期</span>
                                </a>
                            </th>
                            <th>操作项</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="task in ItemsByPage[currentPage] | orderBy:columnToOrder:reverse" ui-sref-active="active">
                            <td>{{$index+1}}</td>
                            <td >
                                {{task.request_id}}
                            </td>
                            <td>
                                {{task.person_name}}
                            </td>
                            <td>
                                {{task.cnt}}
                            </td>
                            <td>
                                {{task.all_workload}}
                            </td>
                            <td>
                                {{task.state}}
                            </td>
                            <td>
                                {{task.create_time}}
                            </td>
                            <td>
                                <a ng-click="grabTask(task)"  class="btn btn-info">抢单</a>
                                <a ui-sref="home.reqDetail({reqId: task.request_id})"  class="btn btn-warning">工单详情</a>
                                <!--<a ng-click="grabTask(task)"  ng-show="task.state=='未分配'" ng-hide="task.state=='已分配' || task.state == '完成'" class="btn btn-warning">抢单</a>-->
                                <!--<a ng-click="completeTask(task)" ng-show="task.state=='已分配'"  ng-hide="task.state=='未分配' || task.state == '完成'" class="btn btn-info">完成任务</a>-->
                                <!--<a ng-clicl="#" ng-show="task.state=='完成'"  ng-hide="task.state=='未分配' || task.state == '已分配'" class="btn btn-success">已完成</a>-->
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <!--分页-->
                    <ul class="pagination pagination-sm">
                        <li ng-class="{active:0}"><a ng-click="firstPage()">First</a>

                        </li>
                        <li ng-repeat="n in range(ItemsByPage.length)"> <a ng-click="setPage()" ng-bind="n+1">1</a>

                        </li>
                        <li><a ng-click="lastPage()">Last</a>

                        </li>
                    </ul>
                    <!--/ 分页-->
                </div>
                <!-- /.table-responsive -->
            </div>
            <!-- /.panel-body -->

            <!--<div>-->
            <!--<a  ui-sref="home.orderAdd" style="margin: 0 0 15px 15px;" class="btn btn-info">拾取任务</a>-->
            <!--</div>-->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-6 -->
</div>